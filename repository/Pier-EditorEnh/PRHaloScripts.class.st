Class {
	#name : #PRHaloScripts,
	#superclass : #WAFileLibrary,
	#category : #'Pier-EditorEnh'
}

{ #category : #'accessing-files' }
PRHaloScripts >> haloCss [
	^ '/*	Silk Icons 1.3 (http://www.famfamfam.com/lab/icons/silk/)
	Creative Commons Attribution 2.5 License
	Mark James */

.pr-halo { position: relative; }
.pr-halo .pr-halo-tools {
	z-index: 100;
	height: 24px;
	display: none; 
	position: absolute;
	background-color: transparent;
}
.pr-halo-hover {
	background-color: #fdb;
	background-color: rgba(256, 128, 0, 0.2);
}
.pr-halo .pr-halo-tools-hover { display: block; }

.pr-halo .pr-halo-tools div {
	float: left;
	width: 8px;
	clear: none;
	height: 16px;
	display: block;
	color: transparent;
	background-color: transparent;
}
.pr-halo .pr-halo-tools a {
	float: left;
	width: 16px;
	height: 16px;
	padding: 3px;
	outline: none;
	display: block;
	background-color: #fff;
	-moz-border-radius: 3px;
	-webkit-border-radius: 3px;
}
.pr-halo .pr-halo-tools a:hover { background-color: #eee; }
.pr-halo .pr-halo-tools a:active { background-color: #ccc; }

.pr-halo .pr-halo-tools a span {
	width: 16px;
	height: 16px;
	display: block;
	background-color: inherit;
	background-repeat: no-repeat;
	background-image: url(halo.png);
}

.pr-halo .pr-halo-tools a.pr-view span { background-position: 0px 0px; }
.pr-halo .pr-halo-tools a.pr-edit span { background-position: -16px 0px; }
.pr-halo .pr-halo-tools a.pr-settings span { background-position: -32px 0px; }
.pr-halo .pr-halo-tools a.pr-move span { background-position: -48px 0px; }
.pr-halo .pr-halo-tools a.pr-remove span { background-position: -64px 0px; }
.pr-halo .pr-halo-tools a.pr-owner span { background-position: -80px 0px; }
.pr-halo .pr-halo-tools a.pr-group span { background-position: -96px 0px; }
.pr-halo .pr-halo-tools a.pr-other span { background-position: -112px 0px; }'
]

{ #category : #'accessing-files' }
PRHaloScripts >> haloJs [
	^ 'function PierHalo(name) {
	var self = this;
	self.element = document.getElementById(name);
	self.tools = self.element.firstChild;
	
	// public
	self.initiate = function() {
		if (PierHalo.active == self)
			return;
		if (PierHalo.active)
			PierHalo.active.finish();
		var top = 0, current = self.element;
		do { top += current.offsetTop; }
		while (current = current.offsetParent);
		self.tools.style.top = (top <= 24 
			? (self.element.offsetHeight >= 200 
				? 0 : self.element.offsetHeight) : -24) 
			+ "px";
		self.addClassName(self.element, "pr-halo-hover");
		self.addClassName(self.tools, "pr-halo-tools-hover");
		PierHalo.active = self;
	};
	self.finish = function() {
		if (PierHalo.active == self) {
			self.removeClassName(self.tools, "pr-halo-tools-hover");
			self.removeClassName(self.element, "pr-halo-hover");
			PierHalo.active = null;
		}
	};	
	
	// events
	self.onMouseOver = function(event) {
		self.initiate();
		return self.stopEvent(event);
	};

	// private
	self.registerEvent = function(element, event, handler) {
		if (element.addEventListener)
			element.addEventListener(event, handler, false);
		else if (element.attachEvent)
			element.attachEvent("on" + event, function() {
				return handler.apply(element, [window.event]);
			});
	};
	self.stopEvent = function(event) {
		event.preventDefault ? event.preventDefault() : event.cancelBubble = true;
		event.stopPropagation ? event.stopPropagation() : event.returnValue = false;
		return false;
	};
	self.addClassName = function(element, name) {
		element.className += (element.className ? " " : "") + name;
	};
	self.removeClassName = function(element, name) {
		element.className = element.className.replace(new RegExp("(^|\\s+)" +
			name + "(\\s+|$)"), " ").replace(/^\s+|\s+$/g, "");
	};
	self.getStyle = function(element, name) {
		var value = element.style[name];
		if (!value || value == "auto") {
			var css = element.currentStyle 
				? element.currentStyle 
				: document.defaultView.getComputedStyle(element, null);
			value = css ? css[name] : null;
		}
		return value;
	}
	
	// fix inlining
	var current = self.element.firstChild;
	while (current) {
		if (current.nodeType == 1 && self.getStyle(current, "display") == "inline") {
			self.tools.style.width = self.element.offsetWidth + "px";
			self.element.style.display = "inline";
			break;
		}
		current = current.nextSibling;
	}
	
	// register events
	self.registerEvent(self.element, "mouseover", self.onMouseOver);
	
	// answer the instance
	return self;
	
}'
]

{ #category : #'accessing-files' }
PRHaloScripts >> haloPng [
	^ #(137 80 78 71 13 10 26 10 0 0 0 13 73 72 68 82 0 0 0 128 0 0 0 16 8 6 0 0 0 222 88 119 136 0 0 0 25 116 69 88 116 83 111 102 116 119 97 114 101 0 65 100 111 98 101 32 73 109 97 103 101 82 101 97 100 121 113 201 101 60 0 0 14 192 73 68 65 84 120 218 204 89 9 84 84 87 182 221 239 213 68 21 80 168 204 131 10 168 193 1 212 68 59 138 18 231 104 27 249 26 53 198 168 73 99 162 237 128 67 72 190 221 249 198 152 68 91 179 28 163 209 224 114 250 226 148 168 137 241 99 164 59 14 209 40 16 103 49 95 35 50 168 128 32 130 20 2 22 53 189 122 175 222 63 247 41 44 69 80 208 244 90 255 192 93 175 170 222 61 183 238 189 123 223 125 206 121 197 201 178 140 255 239 150 148 148 148 224 114 185 166 208 92 219 209 21 83 166 76 209 60 124 159 227 184 16 186 248 83 83 61 101 168 59 212 110 210 56 174 63 210 255 223 105 243 199 4 191 59 118 160 251 234 230 70 171 81 112 106 197 19 23 185 237 255 115 26 211 247 159 190 46 252 17 227 171 107 94 164 230 73 60 109 110 162 40 201 177 146 36 5 137 146 11 78 81 42 22 69 41 197 233 148 102 140 139 246 121 230 69 223 58 210 85 111 171 12 45 168 40 229 188 93 146 139 55 120 22 228 123 232 180 189 194 38 156 189 253 52 223 45 91 182 48 240 23 15 29 58 212 64 134 221 187 119 215 215 205 223 110 183 31 85 169 84 158 4 38 95 95 7 81 20 177 121 243 230 53 51 103 206 92 69 125 234 130 248 188 254 143 216 140 151 125 231 183 241 118 125 164 82 185 220 5 73 134 89 224 173 55 170 212 171 118 158 191 243 73 83 246 45 97 88 203 129 9 227 116 155 181 170 106 101 78 58 173 93 61 184 7 222 19 68 131 153 221 110 200 47 44 44 108 145 151 151 215 7 90 173 214 160 86 171 65 115 181 84 84 84 44 205 202 202 250 71 221 190 202 192 39 8 124 73 114 29 51 106 229 105 109 188 185 144 142 1 42 190 115 144 134 239 20 164 11 105 97 224 167 57 4 241 216 166 163 69 252 179 18 192 114 55 204 42 57 131 125 163 134 207 229 187 142 158 15 187 221 59 180 232 134 152 216 24 95 118 242 135 12 25 98 32 112 112 238 220 57 16 57 235 235 166 98 224 57 28 14 158 26 106 154 197 98 129 217 108 70 121 121 57 216 70 140 30 61 122 118 98 98 226 7 212 191 85 29 160 159 215 191 214 166 117 247 254 40 50 80 90 96 108 6 119 189 39 15 189 59 15 131 155 203 224 231 238 248 56 182 139 207 130 166 236 91 103 95 199 8 173 187 55 207 181 136 69 243 240 57 224 116 225 36 87 106 244 142 68 92 67 62 129 129 129 11 116 58 221 199 26 141 198 64 87 16 9 160 215 235 221 253 252 252 22 180 107 215 238 163 122 9 64 224 39 26 117 174 190 126 30 28 236 78 9 166 106 9 165 212 172 130 11 161 190 122 248 121 105 250 18 9 18 159 241 244 203 193 145 99 17 26 51 1 60 175 2 71 127 81 131 231 65 103 108 53 162 49 254 4 120 59 158 231 81 82 82 130 236 236 236 52 58 129 220 170 85 171 228 149 43 87 202 203 151 47 119 18 16 220 3 25 231 25 73 24 80 172 127 77 99 183 31 116 1 157 10 196 197 197 205 222 176 97 131 2 226 3 191 231 242 175 107 93 3 164 37 122 3 199 85 220 147 112 215 44 161 218 78 36 230 181 80 171 212 92 115 141 152 208 148 189 115 88 4 39 31 190 8 238 158 47 66 227 230 3 207 192 9 144 219 111 64 153 201 88 217 144 15 1 159 64 107 224 216 220 107 72 92 93 93 205 136 192 17 57 150 212 75 0 146 249 216 22 122 14 102 7 3 93 134 232 146 105 227 101 88 232 245 93 155 132 96 111 61 136 0 177 207 2 190 79 183 175 161 54 114 184 117 97 23 156 166 108 165 41 95 172 82 11 141 84 0 142 45 196 106 181 50 50 200 95 126 249 101 90 171 86 173 48 108 216 176 199 212 128 45 250 225 43 3 180 6 68 102 236 52 184 185 185 97 210 164 73 179 233 173 95 13 248 127 148 63 179 74 2 61 176 111 60 198 207 154 135 254 35 223 195 109 139 26 229 118 53 172 234 102 164 4 188 126 199 220 225 186 198 238 223 207 214 33 217 21 191 31 150 57 15 63 240 58 79 240 198 32 168 170 174 33 45 215 43 163 190 254 31 126 248 161 142 230 168 103 243 182 217 108 10 240 115 231 206 197 198 141 27 49 117 234 84 229 125 189 57 0 197 250 32 21 45 148 129 47 17 248 244 95 123 181 56 100 248 121 170 33 8 98 208 51 129 175 171 132 195 116 28 126 97 58 92 203 72 129 39 45 194 84 124 13 47 207 78 214 63 109 140 117 235 214 253 153 8 192 179 197 176 69 69 69 69 245 97 73 32 3 129 201 50 189 206 173 11 96 13 38 236 53 35 8 243 99 192 85 86 86 178 254 74 44 39 57 172 247 251 158 215 159 153 79 168 247 221 190 35 223 105 33 92 63 134 150 164 38 147 166 199 195 232 97 128 87 199 65 56 180 244 77 91 167 246 45 27 204 186 167 14 120 225 221 46 161 45 87 75 162 108 84 171 120 209 223 243 206 255 254 124 217 87 28 163 63 165 169 82 27 161 230 68 92 47 174 192 94 93 153 254 192 223 163 220 207 46 187 108 121 216 191 111 223 190 114 81 81 145 109 211 166 77 154 220 220 92 220 187 119 15 62 62 62 112 119 119 71 108 108 44 182 110 221 122 183 94 5 16 156 162 2 182 114 242 93 117 174 164 4 244 15 7 245 121 38 240 75 126 128 44 93 131 174 117 107 248 249 171 33 22 157 102 224 115 79 242 95 177 175 104 205 210 221 185 23 9 128 3 221 187 119 231 40 65 99 137 12 88 18 72 241 76 1 226 248 241 227 86 186 191 177 78 54 255 200 107 6 94 141 172 51 16 73 30 193 226 98 67 246 188 254 204 108 146 251 85 219 205 11 112 232 124 208 220 55 16 237 34 58 192 221 159 98 247 221 28 74 6 13 185 81 113 137 245 42 223 196 152 118 3 187 132 182 222 236 20 100 35 45 143 48 113 169 35 212 62 221 60 2 212 154 189 166 230 248 182 80 196 250 28 59 202 95 233 137 177 227 199 14 181 235 157 137 47 206 137 48 60 60 198 136 17 35 4 218 147 92 6 188 191 191 63 58 116 232 160 16 128 205 221 100 50 177 53 93 173 159 0 130 88 108 119 186 160 230 185 199 72 160 81 115 176 218 157 16 5 225 206 51 129 47 20 65 27 240 26 76 39 47 194 156 123 3 47 36 164 63 17 252 101 223 221 92 211 220 67 61 171 153 151 71 87 193 127 176 154 177 183 180 180 20 169 169 169 242 137 19 39 68 186 138 105 105 105 87 105 161 243 230 207 159 191 250 73 99 61 12 226 167 41 177 248 123 242 0 90 113 227 139 153 186 36 96 141 145 160 33 11 136 253 86 179 182 160 223 141 67 59 190 132 17 85 148 175 185 81 211 193 67 37 224 248 174 149 88 123 173 119 129 223 224 205 245 42 95 215 16 227 2 141 155 7 223 170 93 56 6 15 235 13 223 0 31 69 133 132 172 43 240 232 97 135 177 151 0 175 254 34 174 218 51 240 66 96 48 6 190 52 56 78 111 245 90 241 240 24 131 6 13 210 231 231 231 23 44 94 188 88 241 173 153 55 179 207 62 251 12 164 14 55 72 9 52 143 133 0 82 128 148 252 82 235 180 240 0 119 136 74 236 119 129 177 80 167 225 208 76 79 217 247 213 18 248 91 126 107 118 116 241 167 17 3 231 165 100 55 180 1 199 191 106 47 71 191 179 249 153 193 95 66 224 251 26 53 179 66 253 220 72 145 100 92 178 139 216 115 70 128 103 249 101 59 157 250 72 138 103 215 155 154 135 48 16 149 132 72 114 34 196 167 3 226 247 188 130 164 137 231 155 236 95 79 184 127 196 252 134 237 214 185 92 242 123 54 143 81 239 68 253 109 25 246 111 24 15 25 247 213 158 37 190 65 239 253 130 138 75 231 70 73 98 222 20 159 129 27 54 153 142 78 181 62 146 188 161 234 118 255 55 199 194 79 91 1 3 145 190 101 104 16 170 244 161 72 251 126 57 74 92 34 4 170 58 5 58 148 118 56 144 81 117 1 85 197 86 124 19 21 56 157 92 227 153 127 191 126 253 88 165 244 215 46 93 186 140 90 178 100 9 150 46 93 170 40 101 77 56 91 187 118 45 102 204 152 241 14 37 211 167 136 4 91 82 82 82 28 181 4 160 4 111 70 94 137 163 131 205 225 236 219 58 192 83 137 249 204 213 70 0 156 205 44 161 50 174 4 131 130 74 221 136 36 233 201 255 213 43 230 245 37 39 31 35 193 225 101 17 4 254 250 103 6 255 139 221 55 215 248 52 211 204 106 237 239 134 178 42 65 33 98 68 144 1 25 86 9 87 184 215 46 109 159 27 213 36 240 255 115 79 127 10 27 180 113 108 243 40 110 7 53 111 139 14 1 61 96 182 91 240 250 250 118 240 8 86 233 171 111 73 141 38 65 241 129 245 184 157 178 30 150 155 185 208 248 7 33 177 7 31 55 227 140 235 156 18 247 95 251 142 19 36 126 92 11 109 203 117 63 173 127 9 25 208 35 99 220 126 216 40 66 11 54 82 83 130 58 172 12 248 238 171 158 24 247 161 110 181 201 146 45 52 27 176 126 83 229 177 105 181 113 245 152 185 219 145 1 183 206 141 230 162 122 113 188 150 42 16 181 23 84 166 107 184 169 247 134 59 125 191 76 98 173 85 105 73 89 180 40 44 181 80 134 47 192 205 227 62 192 125 250 244 81 211 28 227 34 34 34 86 51 240 139 139 139 49 124 248 240 90 21 96 170 197 202 89 202 169 88 162 184 142 84 194 70 36 216 70 36 144 21 2 76 30 16 236 90 125 224 198 128 107 183 236 137 87 243 239 198 10 148 20 138 84 14 82 114 120 219 199 118 69 24 224 117 57 204 187 205 203 112 88 43 125 114 206 31 78 223 57 179 67 204 219 95 95 85 72 176 97 114 88 104 216 11 218 188 246 3 150 33 51 109 15 162 186 57 154 12 254 162 111 243 215 248 122 233 102 133 209 201 191 83 229 68 149 69 36 245 225 225 100 140 119 202 168 22 84 5 77 61 249 162 75 192 171 157 226 40 127 113 81 40 147 136 208 50 138 171 10 17 21 210 155 198 179 161 98 230 137 99 150 106 151 119 230 98 185 170 62 255 135 159 144 50 240 239 157 249 30 93 223 152 4 93 88 39 216 46 29 134 62 237 200 180 67 238 202 30 172 9 48 88 70 4 114 166 164 169 115 70 35 181 92 133 43 86 25 78 42 255 68 138 246 236 234 36 18 252 126 71 134 96 213 227 221 137 209 72 221 149 182 174 84 84 209 167 216 90 243 29 201 165 189 189 7 92 185 38 142 174 147 240 237 184 20 138 158 97 133 36 229 18 216 148 36 81 66 78 193 173 252 30 55 95 221 102 143 206 86 146 96 202 141 222 54 26 141 235 102 207 158 141 194 194 66 37 100 50 233 103 224 215 172 133 145 194 233 116 98 225 194 133 120 255 253 247 147 40 153 101 165 100 114 237 147 192 132 255 8 103 116 154 254 160 213 218 193 207 63 210 222 42 182 239 114 88 42 70 181 238 24 77 181 105 165 79 230 249 67 233 116 203 87 169 32 12 174 188 232 183 182 195 77 171 199 239 63 94 64 70 37 149 65 157 98 96 62 249 51 236 183 239 160 231 39 231 158 8 254 231 12 124 163 110 86 104 0 59 249 78 84 48 240 41 239 104 230 174 194 217 44 51 174 22 90 126 72 254 52 242 205 166 18 192 78 187 207 192 47 40 207 37 34 137 68 8 39 156 20 6 238 57 204 232 218 242 21 84 59 173 252 153 188 116 147 162 190 79 48 182 121 5 251 190 66 247 113 211 225 118 253 56 144 186 8 6 175 102 8 107 221 154 175 200 150 89 93 191 102 71 135 101 123 67 122 188 142 239 50 127 194 249 192 88 168 100 14 46 81 86 8 32 146 208 10 84 73 57 29 28 206 100 82 166 206 31 195 247 211 172 200 249 249 123 74 96 231 40 4 224 99 246 76 30 217 47 230 227 200 247 103 107 146 82 247 193 70 10 104 175 118 32 162 231 88 12 21 203 241 117 98 250 54 94 91 21 95 125 124 138 181 190 57 70 70 70 110 28 63 126 60 114 114 114 106 171 150 135 231 207 62 99 225 128 114 0 165 154 73 72 72 64 114 114 242 94 22 1 158 250 116 239 207 159 31 17 28 14 235 184 252 204 83 251 178 206 31 132 95 72 27 74 26 29 62 15 247 209 241 42 220 75 91 141 110 193 30 144 51 138 144 177 121 15 110 229 220 124 42 248 247 19 80 215 172 54 129 58 69 246 203 205 78 146 57 14 148 4 226 84 86 53 174 20 40 224 191 241 44 15 160 236 162 157 194 136 8 127 99 43 4 24 91 35 208 43 28 26 149 30 190 158 193 200 40 252 21 233 185 233 21 22 59 254 244 180 138 128 93 133 219 5 112 11 8 3 102 253 72 137 10 85 82 115 111 64 109 201 130 202 197 133 42 207 11 56 142 87 235 12 72 63 109 66 91 181 21 118 130 201 65 77 176 222 15 1 60 169 25 239 198 225 79 97 14 156 190 88 66 242 174 33 80 56 229 240 133 15 219 48 230 141 238 30 95 77 156 220 213 35 157 134 206 11 29 133 130 240 183 168 197 225 200 117 55 180 124 49 24 163 6 117 142 11 82 155 86 52 52 87 2 88 205 78 60 85 70 8 9 9 169 149 126 86 178 178 82 150 93 217 233 39 149 96 201 180 82 70 211 125 254 145 223 2 158 100 99 86 94 16 146 166 182 25 119 227 202 201 93 5 57 23 70 137 162 163 246 137 210 201 43 213 232 127 104 13 194 186 13 5 85 235 144 205 73 48 148 21 97 216 210 203 92 99 198 182 218 89 109 13 69 234 181 52 167 230 148 127 156 202 174 70 102 129 57 249 95 11 59 55 5 124 89 201 183 106 202 49 58 122 219 78 173 160 28 64 80 212 32 220 167 35 122 134 15 198 185 130 116 92 42 190 4 211 47 152 110 254 85 190 200 45 173 205 238 30 241 127 152 4 106 191 64 88 127 251 39 220 127 140 135 195 86 2 118 12 205 247 84 144 84 40 86 78 112 187 65 243 242 126 217 177 80 239 124 23 251 191 57 171 142 28 215 247 145 129 106 146 193 189 171 15 97 104 112 166 53 47 53 69 165 239 52 112 57 251 108 127 175 205 187 132 246 113 170 93 89 119 96 210 7 208 70 80 245 69 164 145 73 53 108 54 30 71 76 46 140 9 191 142 127 4 158 169 77 248 234 90 76 76 204 226 189 123 247 254 141 226 188 180 98 197 10 67 124 124 252 99 101 45 83 130 237 219 183 179 135 65 226 206 157 59 89 222 240 169 210 167 41 191 6 174 251 139 175 74 146 68 255 89 223 84 20 215 124 54 174 191 143 172 37 198 245 137 104 134 0 79 29 180 190 94 251 94 157 147 62 186 177 99 78 89 147 115 62 196 91 219 173 99 43 119 165 236 60 147 125 15 153 55 45 201 7 23 117 30 217 132 76 189 187 195 225 56 65 172 118 171 41 109 235 90 143 21 94 136 12 236 137 171 37 89 72 154 240 47 107 167 144 46 125 104 237 23 26 227 95 248 195 42 148 29 253 111 132 52 119 144 102 22 193 92 38 34 175 84 229 18 237 242 252 33 135 197 47 88 159 252 61 241 158 73 151 130 181 219 51 187 44 150 43 203 135 169 52 134 22 224 120 13 123 192 34 75 162 72 157 171 53 45 188 127 139 109 157 241 246 7 189 75 109 173 222 92 103 86 252 214 244 43 190 80 253 82 224 15 142 177 240 140 233 65 97 138 226 60 133 13 153 191 223 156 191 231 33 162 108 15 166 181 255 21 129 147 15 52 120 168 14 31 62 236 121 240 224 65 125 121 121 249 206 138 138 138 174 58 157 206 131 148 64 205 212 128 228 223 105 179 217 238 146 2 252 179 109 219 182 243 162 163 163 133 33 67 134 152 155 76 128 127 151 189 181 36 243 138 32 162 163 32 176 140 29 201 135 191 104 60 248 15 0 108 249 224 231 220 6 67 90 216 39 56 33 201 42 183 178 159 164 145 182 12 20 178 159 118 105 237 133 141 245 223 50 216 63 206 87 50 141 212 203 92 128 157 147 203 42 5 108 157 144 42 126 244 188 107 207 217 57 45 250 122 94 89 255 5 151 71 189 44 5 71 140 240 52 234 238 11 145 139 149 226 34 138 50 174 229 39 68 30 217 54 172 147 37 55 108 226 183 223 252 209 123 255 127 2 12 0 222 81 108 51 183 116 92 82 0 0 0 0 73 69 78 68 174 66 96 130) asByteArray
]

{ #category : #accessing }
PRHaloScripts >> selectorsToInclude [
	^ #( haloCss haloJs )
]
