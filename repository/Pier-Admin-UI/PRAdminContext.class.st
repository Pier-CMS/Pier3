"
PRAdminContext overrides PRContext simply to ensure that bookmarkable Urls aren't generated by Pier within Pier Admin. Why? Pier Admin needs to maintain Seaside's component state.
"
Class {
	#name : #PRAdminContext,
	#superclass : #PRContext,
	#category : #'Pier-Admin-UI'
}

{ #category : #'pier-seaside-urls' }
PRAdminContext >> urlOn: aRenderer [
	"Overridden to ensure only the creation of standard Seaside urls (not Pier Restful Urls), within Pier Admin - we need
	 to recover context from _s & _k and can't rely on the path"
	| url |
	^ aRenderer callbacks isNil
		ifTrue: [ self url ]
		ifFalse: [
			url := aRenderer context actionUrl copy.
			url purgeOtherFields; adaptToContext: self.

			url queryFields
				at: '_n' put: nil;
				at: (aRenderer callbacks store: self activationCallback) put: nil.
			url ]
]
